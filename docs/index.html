<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Claudio Gemelli — hub</title>
  <meta name="description" content="Link, documenti ed eventi — layout full screen pulito in stile Apple." />
  <meta name="theme-color" content="#0b0b0b" />
  <meta property="og:title" content="Claudio Gemelli — hub" />
  <meta property="og:description" content="Tutti i link e i documenti in un posto solo." />

  <!-- CSS principale locale -->
  <link rel="stylesheet" href="./style.css?v=10">

  <style>
    /* ===== Sfondo full screen come layer fisso (docs/assets/) ===== */
    .page-bg{
      position: fixed; inset: 0; z-index: -1;
      background: url("./assets/bg-mobile.webp?v=10") center center / cover no-repeat;
    }
    @media (min-width: 641px){
      .page-bg{ background-image: url("./assets/bg-desktop.webp?v=10"); }
    }

    /* ===== Layout 2 colonne ===== */
    body{
      margin:0; min-height:100svh; color:var(--fg);
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji",sans-serif;
    }
    .wrap-page{
      max-width:var(--container);
      margin:0 auto;
      padding: clamp(16px, 4vw, 40px) 20px;
      display:grid;
      grid-template-columns: 320px 1fr;
      gap: clamp(18px, 4vw, 40px);
      align-items:start;
    }
    @media (max-width: 880px){
      .wrap-page{ grid-template-columns: 1fr; }
    }

    /* ===== Colonna sinistra: immagine + share circolari ===== */
    .profile{
      position:sticky; top: clamp(12px, 3vw, 28px);
      display:flex; flex-direction:column; gap:14px;
    }
    .profile img{
      width:100%; max-width:320px; height:auto; display:block; border-radius: var(--radius-lg);
      object-fit:cover; border:1px solid var(--line); box-shadow:none;
    }
    @media (max-width:880px){
      .profile{ position:static; max-width: 240px; }
    }

    /* Bottoni share circolari */
    .quick-share{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .qs-btn{
      width:48px; height:48px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
      background: rgba(255,255,255,.86); color:#111827; text-decoration:none;
      border:1px solid var(--line); box-shadow:none; cursor:pointer;
      -webkit-backdrop-filter: saturate(140%) blur(6px); backdrop-filter: saturate(140%) blur(6px);
      transition: background .2s ease, border-color .2s ease, transform .06s ease;
    }
    .qs-btn:hover{ background: rgba(255,255,255,.94); border-color: rgba(0,0,0,.12); transform: translateY(-1px); }
    .qs-btn svg{ width:22px; height:22px; display:block; }

    @media (prefers-color-scheme: dark){
      .qs-btn{ background: rgba(16,16,16,.86); }
      .qs-btn:hover{ background: rgba(16,16,16,.94); border-color: rgba(255,255,255,.12); }
      .profile img{ border-color:#2b2b2b; }
    }

    /* ===== Colonna destra: contenuti piatti ===== */
    .content{ display:grid; gap: clamp(18px, 3vw, 28px); }
    .headline h1{
      margin:0 0 6px; font-weight:700;
      font-size: clamp(28px, 3.8vw, 44px); letter-spacing:-0.02em;
    }
    .headline .lead{ margin:0; color:var(--muted); }

    .section-block{ display:grid; gap:12px; }
    .section-title{
      margin:0; font-size: var(--fs-1); font-weight:700; letter-spacing:.02em; text-transform: uppercase;
    }

    /* Pulsanti piatti (no ombre) */
    .tiles{ display:grid; gap:10px; }
    .tile{
      display:flex; align-items:center; gap:12px; text-decoration:none;
      padding:14px 16px; border-radius:14px;
      background: rgba(255,255,255,.86); color: var(--fg);
      border:1px solid var(--line); box-shadow:none;
      -webkit-backdrop-filter: saturate(140%) blur(6px); backdrop-filter: saturate(140%) blur(6px);
      transition: background .2s ease, border-color .2s ease, transform .06s ease;
    }
    .tile:hover{ background: rgba(255,255,255,.94); border-color: rgba(0,0,0,.12); transform: translateY(-1px); }
    .tile svg{ width:22px; height:22px; flex:0 0 22px; }
    .t-title{ font-weight:600; }
    .t-desc{ color:var(--muted); font-size:.92rem; }

    @media (prefers-color-scheme: dark){
      .tile{ background: rgba(16,16,16,.86); }
      .tile:hover{ background: rgba(16,16,16,.94); border-color: rgba(255,255,255,.12); }
    }

    /* Navbar vetrosa minima */
    .site-header.nav{ background: rgba(255,255,255,.86); }
    @media (prefers-color-scheme: dark){
      .site-header.nav{ background: rgba(16,16,16,.86); }
    }
  </style>
</head>
<body>
  <!-- Sfondo fisso full-screen -->
  <div class="page-bg" aria-hidden="true"></div>

  <!-- Navbar vetrosa minima -->
  <header class="site-header nav">
    <div class="inner" style="display:flex;align-items:center;justify-content:space-between;padding:12px 0;">
      <span class="brand" style="font-weight:700">Claudio Gemelli</span>
      <nav style="display:flex;gap:12px;">
        <a href="#social">Social</a>
        <a href="#docs">Documenti</a>
        <a href="#events">Eventi</a>
      </nav>
    </div>
  </header>

  <div class="wrap-page">
    <!-- SINISTRA: immagine + share -->
    <aside class="profile">
      <img src="./assets/claudio.jpg?v=10" alt="Claudio Gemelli">

      <!-- Bottoni circolari con icone inline (nessuna dipendenza esterna) -->
      <div class="quick-share" role="group" aria-label="Condividi">
        <!-- WhatsApp -->
        <a id="qs-wa" class="qs-btn" href="#" target="_blank" rel="noopener" aria-label="WhatsApp" title="Condividi su WhatsApp">
          <!-- Logo ufficiale WhatsApp (verde 25D366) -->
          <svg viewBox="0 0 256 256" aria-hidden="true">
            <path fill="#25D366" d="M36.4 219.6A127.9 127.9 0 1 1 219.6 36.4 127.9 127.9 0 0 1 36.4 219.6Z"/>
            <path fill="#FFF" d="M190.8 163.6c-2.4 6.9-11.8 12.7-19 14.4c-5.1 1.2-11.7 2.2-34.1-7.3c-28.6-12.3-47-42.6-48.4-44.5s-11.6-15.4-11.6-29.3s7.1-20.7 9.6-23.5a20.2 20.2 0 0 1 14.5-6.7c3.5 0 6.6 0 9.5.2s7.1-1.2 10.9 8.4c2.4 5.9 5.1 11.4 5.5 12.2s.7 1.8.1 2.9s-.9 1.8-1.8 2.9s-1.8 2.1-2.7 3.2c-.9 1.1-1.8 2.1-2.7 3.5s-1.9 3.1-.8 5s4.7 7.8 10.1 12.7c6.9 6.2 12.8 8.1 15 9.1s3.9.8 5.4-.5s6.2-7.2 7.9-9.6s3.3-2 5.4-1.2s14.1 6.7 16.5 7.9s4 1.8 4.6 2.8a20.5 20.5 0 0 1-1.4 11.6Z"/>
            <path fill="#FFF" d="M69.9 199.3l6.8-25.1a84.4 84.4 0 1 1 31.1 30l-27.9 4.9Z"/>
            <path fill="#25D366" d="M98.3 193.5a73.6 73.6 0 1 0-26.8-26l-3.9 14.6l15.3-2.7l15.4-2.9Z"/>
          </svg>
        </a>

        <!-- Facebook -->
        <a id="qs-fb" class="qs-btn" href="#" target="_blank" rel="noopener" aria-label="Facebook" title="Condividi su Facebook">
          <!-- Logo ufficiale Facebook (blu 1877F2) -->
          <svg viewBox="0 0 256 256" aria-hidden="true">
            <rect width="256" height="256" rx="56" fill="#1877F2"/>
            <path fill="#FFF" d="M173 73h-20c-22.1 0-36.9 14.7-36.9 37.4v16.5H99v27.5h17.1V213h29v-58.6h19.6l3-27.5H145v-14.2c0-8 2-12.1 12.6-12.1H173V73z"/>
          </svg>
        </a>

        <!-- Instagram -->
        <a id="qs-ig" class="qs-btn" href="https://www.instagram.com/" target="_blank" rel="noopener" aria-label="Instagram" title="Apri Instagram">
          <!-- Logo ufficiale Instagram con gradiente -->
          <svg viewBox="0 0 256 256" aria-hidden="true">
            <defs>
              <linearGradient id="igGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#F58529"/>
                <stop offset="30%" stop-color="#FEDA77"/>
                <stop offset="60%" stop-color="#DD2A7B"/>
                <stop offset="100%" stop-color="#8134AF"/>
              </linearGradient>
            </defs>
            <rect x="24" y="24" width="208" height="208" rx="48" fill="url(#igGrad)"/>
            <circle cx="176" cy="80" r="16" fill="#FFF"/>
            <circle cx="128" cy="128" r="48" fill="none" stroke="#FFF" stroke-width="24"/>
            <rect x="24" y="24" width="208" height="208" rx="48" fill="none" stroke="rgba(255,255,255,.25)" stroke-width="12"/>
          </svg>
        </a>

        <!-- Condivisione generale (aeroplanino) -->
        <button id="qs-share" class="qs-btn" type="button" aria-label="Condividi" title="Condividi">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" aria-hidden="true">
            <path d="M21 3L10 14"/><path d="M21 3l-7 19-4-8-8-4 19-7z" />
          </svg>
        </button>
      </div>
    </aside>

    <!-- DESTRA: contenuti -->
    <section class="content">
      <div class="headline">
        <h1>CLAUDIO GEMELLI</h1>
        <p class="lead">Tutti i link utili, documenti ed eventi — in chiaro, senza scatole pesanti.</p>
      </div>

      <!-- Social -->
      <div id="social" class="section-block">
        <h2 class="section-title">Social</h2>
        <div class="tiles">
          <a class="tile" href="https://www.instagram.com/claudio.gemelli.fdi/" target="_blank" rel="noopener">
            <!-- icona Instagram inline -->
            <svg viewBox="0 0 256 256" aria-hidden="true">
              <defs>
                <linearGradient id="igGrad2" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#F58529"/>
                  <stop offset="30%" stop-color="#FEDA77"/>
                  <stop offset="60%" stop-color="#DD2A7B"/>
                  <stop offset="100%" stop-color="#8134AF"/>
                </linearGradient>
              </defs>
              <rect x="24" y="24" width="208" height="208" rx="48" fill="url(#igGrad2)"/>
              <circle cx="176" cy="80" r="16" fill="#FFF"/>
              <circle cx="128" cy="128" r="48" fill="none" stroke="#FFF" stroke-width="24"/>
              <rect x="24" y="24" width="208" height="208" rx="48" fill="none" stroke="rgba(255,255,255,.25)" stroke-width="12"/>
            </svg>
            <div>
              <div class="t-title">Instagram</div>
              <div class="t-desc">@claudio.gemelli.fdi</div>
            </div>
          </a>

          <a class="tile" href="https://www.facebook.com/share/15F4udkWZwo/?mibextid=wwXIfr" target="_blank" rel="noopener">
            <!-- icona Facebook inline -->
            <svg viewBox="0 0 256 256" aria-hidden="true">
              <rect width="256" height="256" rx="56" fill="#1877F2"/>
              <path fill="#FFF" d="M173 73h-20c-22.1 0-36.9 14.7-36.9 37.4v16.5H99v27.5h17.1V213h29v-58.6h19.6l3-27.5H145v-14.2c0-8 2-12.1 12.6-12.1H173V73z"/>
            </svg>
            <div>
              <div class="t-title">Facebook</div>
              <div class="t-desc">@claudio.gemelli.fdi</div>
            </div>
          </a>
        </div>
      </div>

      <!-- Documenti -->
      <div id="docs" class="section-block">
        <h2 class="section-title">Documenti</h2>
        <div id="docs-list" class="tiles">
          <!-- Esempio:
          <a class="tile" href="./assets/programma.pdf" target="_blank" rel="noopener">
            <span aria-hidden="true">📄</span> Programma
          </a> -->
        </div>
      </div>

      <!-- Eventi -->
      <div id="events" class="section-block">
        <h2 class="section-title">Eventi</h2>
        <div id="events-list" class="tiles"></div>
        <p class="muted"><a href="./events.ics" download>Scarica calendario (.ics)</a></p>
      </div>

      <p class="muted">Contatti: <a href="mailto:votagemelli@gmail.com">votagemelli@gmail.com</a></p>
    </section>
  </div>

  <script>
    // Condivisione veloce (nessuna dipendenza esterna)
    const SITE_URL = (typeof window !== 'undefined' && window.location && window.location.href) ? window.location.href : '';
    const text = 'Scopri il programma e gli eventi:';
    const qsWa = document.getElementById('qs-wa');
    const qsFb = document.getElementById('qs-fb');
    const qsShare = document.getElementById('qs-share');

    if (qsWa) qsWa.href = 'https://wa.me/?text=' + encodeURIComponent(text + ' ' + SITE_URL);
    if (qsFb) qsFb.href = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(SITE_URL);

    if (qsShare) qsShare.addEventListener('click', async ()=>{
      if (navigator.share) {
        try { await navigator.share({ title: 'Vota Gemelli', text, url: SITE_URL }); return; } catch(_){}
      }
      try { await navigator.clipboard.writeText(SITE_URL); } catch(_){}
    });

    // Eventi da ICS (docs/events.ics)
    const ICS_URL = './events.ics';
    async function loadICS(){
      try{
        const res = await fetch(ICS_URL, { cache: 'no-cache' });
        if(!res.ok) return;
        const raw = await res.text();
        const text = raw.replace(/\r\n/g, '\n').replace(/\n[\t ]/g, '');
        const events = [];
        let ev = null;
        for(const line of text.split(/\n+/)){
          if(line.startsWith('BEGIN:VEVENT')){ ev = {}; continue; }
          if(line.startsWith('END:VEVENT')){ if(ev) events.push(ev); ev = null; continue; }
          if(!ev) continue;
          const i = line.indexOf(':'); if(i === -1) continue;
          const key = line.slice(0, i).toUpperCase();
          const val = line.slice(i+1);
          const parseDate = v => v && (v.length===16&&v.endsWith('Z')&&v.indexOf('T')===8
            ? new Date(v.slice(0,4)+'-'+v.slice(4,6)+'-'+v.slice(6,8)+'T'+v.slice(9,11)+':'+v.slice(11,13)+':'+v.slice(13,15)+'Z')
            : v.length===15&&v.indexOf('T')===8
              ? new Date(v.slice(0,4)+'-'+v.slice(4,6)+'-'+v.slice(6,8)+'T'+v.slice(9,11)+':'+v.slice(11,13)+':'+v.slice(13,15))
              : v.length===8 ? new Date(v.slice(0,4)+'-'+v.slice(4,6)+'-'+v.slice(6,8))
              : new Date(v));
          if(key.startsWith('DTSTART')) ev.dtstart = parseDate(val);
          else if(key.startsWith('DTEND')) ev.dtend = parseDate(val);
          else if(key === 'SUMMARY') ev.summary = String(val).replace(/\\n/g,'\n').replace(/\\,/g,',').replace(/\\;/g,';');
          else if(key === 'LOCATION') ev.location = String(val).replace(/\\n/g,'\n').replace(/\\,/g,',').replace(/\\;/g,';');
        }
        const wrap = document.getElementById('events-list');
        if(!wrap) return;
        wrap.innerHTML = '';
        if(!events.length){
          wrap.innerHTML = '<div class="tile" style="pointer-events:none">Nessun evento imminente</div>';
          return;
        }
        const fmtDay = new Intl.DateTimeFormat('it-IT', { weekday:'long', day:'2-digit', month:'long' });
        const fmtTime = new Intl.DateTimeFormat('it-IT', { hour:'2-digit', minute:'2-digit' });
        events.sort((a,b)=> (a.dtstart||0) - (b.dtstart||0));
        for(const e of events){
          const when = e.dtstart ? `${fmtDay.format(e.dtstart)} · ${fmtTime.format(e.dtstart)}` : '';
          const where = e.location || '';
          const div = document.createElement('div');
          div.className = 'tile';
          div.innerHTML = `<strong>${when}</strong><span style="color:var(--muted)">${where}</span>`;
          wrap.appendChild(div);
        }
      }catch(_){}
    }
    loadICS();
  </script>
</body>
</html>

